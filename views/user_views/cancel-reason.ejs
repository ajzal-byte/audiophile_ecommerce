<% if(orderDetails.orderStatus === "Order Placed" || orderDetails.orderStatus === "Shipped") {%> 
  <a href="#" id="cancel-button" class="btn btn-sm" data-action="/cancel-order/<%= orderDetails._id %>" style="background-color: rgb(180, 36, 36);">Cancel Order</a>
  <%} else if(orderDetails.orderStatus === "Delivered") {%> 
    <a href="#" order-id="<%= orderDetails._id %>" id="returnButton" class="btn btn-sm" style="background-color: rgb(180, 36, 36);">Return</a>
    <%} else if(orderDetails.orderStatus === "Cancelled") {%> 
      <h5 style="color: rgb(177, 29, 29);">The order is Cancelled</h5>
      <%} else if (orderDetails.orderStatus === "Returned") {%> 
          <h5 style="color: rgb(177, 29, 29);">The order is returned</h5>
          <%}%>
          <a href="/" class="btn btn-sm">Continue Shopping</a> 
</div>
</div>  

<script>
document.addEventListener("DOMContentLoaded", ()=>{
const cancelButton = document.getElementById('cancel-button');

cancelButton.addEventListener('click', (e)=>{
    e.preventDefault();

    const action = cancelButton.getAttribute('data-action');

    Swal.fire({
        title: "Are you sure?",
        text: "You will not be able to revert this!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Yes!"
        }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = action;
        }
        });
})



});

</script>